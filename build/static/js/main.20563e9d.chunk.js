(this["webpackJsonpcourse-enroll-frontend"]=this["webpackJsonpcourse-enroll-frontend"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(10),o=n.n(a),i=(n(89),n(39)),s=n(11),l=n(50),u=n(163),d=n(164),j=n(165),h=n(116),b=n(173),O=n(175),x=n(162),f=n(161),g=n(160),p=n(172),m=n(65),v=n.n(m),C=n(30),w=n.n(C),y="jwt_token",S=w.a.load(y),k=v.a.create({baseURL:"http://course-enrollment-alb-506420894.us-east-2.elb.amazonaws.com:8080",headers:{Authorization:"Bearer ".concat(S)}}),L=function(e,t){return k.post("/api/authenticate",{username:e,password:t})},F=n(5);function N(e){var t,n;return Object(F.jsx)("div",{children:Object(F.jsxs)(O.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(F.jsx)(g.a,{id:"alert-dialog-title",children:"Please Login"}),Object(F.jsxs)(f.a,{children:[Object(F.jsx)(p.a,{id:"standard-basic",label:"Username",fullWidth:!0,onChange:function(e){return t=e.target.value}}),Object(F.jsx)(p.a,{id:"standard-basic",label:"Password",fullWidth:!0,type:"password",onChange:function(e){return n=e.target.value}})]}),Object(F.jsxs)(x.a,{children:[Object(F.jsx)(b.a,{onClick:e.handleClose,color:"primary",children:"Cancel"}),Object(F.jsx)(b.a,{onClick:function(){console.log("Submitting",t,n),L(t,n).then((function(e){var t=e.data.id_token;w.a.save(y,t),window.location.reload()})).catch((function(e){return console.log(String(e))}))},color:"primary",autoFocus:!0,children:"Submit"})]})]})})}var E=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function A(){var e=E(),t=r.a.useState(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],o=w.a.load(y),s=o?"Logout":"Login",u=function(){o?(w.a.remove(y),window.location.reload()):a(!0)};return Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)(d.a,{position:"static",children:Object(F.jsxs)(j.a,{children:[Object(F.jsx)(h.a,{variant:"h6",className:e.title,children:"Course Enrollment Service"}),Object(F.jsx)(b.a,{color:"inherit",component:i.b,to:"/",children:"All Courses"}),Object(F.jsx)(b.a,{color:"inherit",component:i.b,to:"/enrolled",children:"Enrolled Courses"}),Object(F.jsx)(b.a,{color:"inherit",onClick:u,children:s})]})}),Object(F.jsx)(N,{open:c,handleClickOpen:u,handleClose:function(){a(!1)}})]})}var B=n(167),D=n(171),I=n(170),P=n(166),T=n(168),W=n(169),z=n(115),G=Object(u.a)({table:{minWidth:650}});function J(e){var t=G();return Object(F.jsx)(P.a,{component:z.a,children:Object(F.jsxs)(B.a,{className:t.table,"aria-label":"simple table",children:[Object(F.jsx)(T.a,{children:Object(F.jsxs)(W.a,{children:[Object(F.jsx)(I.a,{children:"#"}),Object(F.jsx)(I.a,{align:"right",children:"Course Name"}),Object(F.jsx)(I.a,{align:"right",children:"Course Content"}),Object(F.jsx)(I.a,{align:"right",children:"Course Location"}),Object(F.jsx)(I.a,{align:"right",children:"Teacher ID"}),Object(F.jsx)(I.a,{align:"right",children:"Action"})]})}),Object(F.jsx)(D.a,{children:e.courses.map((function(t,n){return Object(F.jsxs)(W.a,{children:[Object(F.jsx)(I.a,{component:"th",scope:"row",children:n+1}),Object(F.jsx)(I.a,{align:"right",children:t.courseName}),Object(F.jsx)(I.a,{align:"right",children:t.courseContent}),Object(F.jsx)(I.a,{align:"right",children:t.courseLocation}),Object(F.jsx)(I.a,{align:"right",children:t.teacherId}),Object(F.jsx)(I.a,{align:"right",children:Object(F.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return e.action(t.courseName)},children:e.label})})]},t.name)}))})]})})}var M=n(71),R=n(72),U=n(74),_=n(73),q=function(){return k.get("/api/courses")},H=function(){return k.get("/api/student/selected-courses")},K=function(e){return k.post("/api/student/course/".concat(e))},Q=function(e){return k.delete("/api/student/course/".concat(e))},V=function(e){Object(U.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(M.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={courses:[]},e}return Object(R.a)(n,[{key:"componentDidMount",value:function(){this.getSelectedCourses()}},{key:"render",value:function(){return Object(F.jsx)("div",{children:Object(F.jsx)(J,{courses:this.state.courses,action:this.dropCourse.bind(this),label:"Drop"})})}},{key:"dropCourse",value:function(e){var t=this;console.log("dropCourse this",this),Q(e).then((function(n){alert("Successfully dropped course ".concat(e,".")),t.getSelectedCourses()})).catch((function(t){alert("Failed to dropped course ".concat(e,"."))}))}},{key:"getSelectedCourses",value:function(){var e=this;H().then((function(t){e.setState({courses:t.data})}))}}]),n}(r.a.Component);function X(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){q().then((function(e){r(e.data)})).catch((function(e){return console.error(e)}))}),[]),Object(F.jsx)("div",{children:Object(F.jsx)(J,{courses:n,action:function(e){K(e).then((function(t){alert("Successfully enrolled course ".concat(e,"."))})).catch((function(t){alert("Failed to enrolled course ".concat(e,"."))}))},label:"Enroll"})})}function Y(){return Object(F.jsx)(i.a,{children:Object(F.jsxs)("div",{children:[Object(F.jsx)(A,{}),Object(F.jsxs)(s.c,{children:[Object(F.jsx)(s.a,{path:"/debug",children:Object(F.jsx)(N,{})}),Object(F.jsx)(s.a,{path:"/enrolled",children:Object(F.jsx)(V,{})}),Object(F.jsx)(s.a,{path:"/",children:Object(F.jsx)(X,{})})]})]})})}var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(Y,{})}),document.getElementById("root")),Z()},89:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.20563e9d.chunk.js.map